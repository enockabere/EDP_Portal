<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kmpdc</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- icons -->
    <!-- line -->
    <link rel="stylesheet"
        href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
    <!-- end -->
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="../../static/css/base.css">
    <link rel="shortcut icon" type="image/png" href="../../static/img/logo/fav.png" />
</head>

<body>
    <section class="n-login">
        <div class="container-fluid px-0">
            <div class="row">
                <div id='n-left' class="col-md-6">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="n-icon mx-auto text-center">
                                <p>
                                    <i class="fas fa-align-left" style="color:white;font-size:25px"></i>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 mx-auto text-center">
                            <div class="brand">
                                <h2 class="n-brand">CLIENT'S SELF SERVICE PORTAL</br> <span class="br-brand">ED PARTNERS
                                        AFRICA</span></h2>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="l-text mx-auto text-center">
                                <p>
                                    The system should allow the EPA Team to create Surveys in form of
                                    questionnaire, which are then pushed to the clients so they can submit
                                    feedbacks on various activities and services.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="l-image mx-auto text-center mb-3">
                                <img src='../../static/img/logo/1.png' class="img-fluid" alt="brand image" srcset="">
                            </div>
                        </div>

                    </div>
                </div>
                <div class="col-md-6" style="background: whitesmoke;">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-text">
                                <h3>REGISTER</h3>
                                <p id="login">
                                    Already have an account? <a href="{% url 'auth' %}" id="log"
                                        style="text-decoration: none;">Login</a>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="reg-line mx-auto text-center">
                                <hr id="re-div">
                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="l-form">
                                {% include 'alerts.html' %}
                                <div class="login-form">
                                    <form action="{% url 'RegisterLead' %}" method="post" id="RegisterForm" novalidate>
                                        {% csrf_token %}
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="" class="form-label">Email <span
                                                        class="text-danger">*</span></label>
                                                <input type="email" name="emailAddress" class="form-control"
                                                    placeholder="doe@gmail.com">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="" class="form-label">Phone Number <span
                                                        class="text-danger">*</span></label>
                                                <input type="text" name="phoneNumber" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="" class="form-label">Postal Address <span
                                                        class="text-danger">*</span></label>
                                                <input type="text" name="postalAddress" class="form-control">
                                            </div>
                                            <div class="col-md-6">
                                                <label for="" class="form-label">Business Reg. No.<span
                                                        class="text-danger">*</span></label>
                                                <input type="text" name="businessNo" class="form-control">
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label for="" class="form-label">Moest No.<span
                                                        class="text-danger">*</span></label>
                                                <input type="text" name="moestNo" class="form-control">
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Lead Source <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="leadSource">
                                                    <option value="" disabled selected>--Select--</option>
                                                    {% for res in lead_source %}
                                                    <option value="{{res.Code}}">{{res.Description}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="form-label">EDP Branch <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="branchName" id="branchName">
                                                    <option value="" disabled selected>--Select--</option>
                                                    {% for branch in branch %}
                                                    <option value="{{branch.Code}}">{{branch.Name}}</option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">EDP Sub Branch <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="subBranch">
                                                    <option class="after" value="" disabled selected>--Select--</option>
                                                </select>

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <label class="form-label">Name of School <span
                                                        class="text-danger">*</span></label>
                                                <input type="text" class="form-control" name="schoolName" placeholder=""
                                                    required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="form-label">Type of Ownership <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="typeOfOwnership">
                                                    <option value="0" disabled selected>--Select--
                                                    </option>
                                                    <option value="1">Sole Proprietorship</option>
                                                    <option value="2">Partnership</option>
                                                    <option value="3">Limited Liability Company</option>
                                                    <option value="4">Trust</option>
                                                    <option value="5">CBO</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Local Authority License <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="localAuthortyLicense">
                                                    <option value="0" disabled selected>--Select--
                                                    </option>
                                                    <option value="1">Valid</option>
                                                    <option value="2">Expired</option>
                                                    <option value="3">Ongoing/Applied For</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="form-label">Form of Registration <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="formOfRegistration">
                                                    <option value="0" disabled selected>--Select--
                                                    </option>
                                                    <option value="1">Private</option>
                                                    <option value="2">APBET</option>
                                                    <option value="3">Ongoing</option>
                                                    <option value="4">Unregistered</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Year School Started <span
                                                        class="text-danger">*</span></label>
                                                <input type="date" class="form-control" name="yearSchoolStarted"
                                                    required>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="form-label">Lease Agreement <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="leaseAgreement">
                                                    <option value="0" disabled selected>--Select--
                                                    </option>
                                                    <option value="1">Valid</option>
                                                    <option value="2">Expired</option>
                                                    <option value="3">Ongoing</option>
                                                    <option value="4">Owned</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Premises <span
                                                        class="text-danger">*</span></label>
                                                <select class="form-select" name="premisses">
                                                    <option value="0" disabled selected>--Select--
                                                    </option>
                                                    <option value="1">Rented</option>
                                                    <option value="2">Owned</option>
                                                </select>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <label class="form-label">Password</label>
                                                <input type="password" class="form-control" name="password"
                                                    placeholder="Password" required>
                                            </div>
                                            <div class="col-md-6">
                                                <label class="form-label">Confirm Password</label>
                                                <input type="password" class="form-control" name="password2"
                                                    placeholder="Confirm Password" required>
                                            </div>
                                        </div>
                                        <div class="row my-3">
                                            <div class="col-md-12">
                                                <div class="form-check form-switch">
                                                    <input class="form-check-input" type="checkbox" checked
                                                        name="coordinates" value="True">
                                                    <label class="form-check-label" style="font: size 13px;color:black">
                                                        Slide switch to cancel getting the school's location</label>
                                                </div>
                                            </div>
                                        </div>
                                        <button type="submit" class="btn btn-primary my-3">Sign Up</button>
                                        <p class="small">By clicking the Sign Up button, you agree to our <br><a
                                                href="#">Terms &amp; Conditions</a>, and <a href="#">Privacy Policy</a>.
                                        </p>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>
    <script>
        $(document).ready(function () {
            $('#branchName').on('change', function (e) {
                e.preventDefault();
                var BranchCode = $("#branchName").val();
                if (BranchCode != null) {
                    $("#RegisterForm select[name='subBranch']").find('.after').nextAll().remove();
                    $.ajax({
                        type: 'get',
                        url: '{% url "Spoke" %}',
                        dataType: 'json',
                        data: {
                            BranchCode: BranchCode
                        },
                        success: function (response) {
                            let options = '';
                            for (var i = 0; i < response.value.length; i++) {
                                if (response.value[i].Dimension_Code == 'SPOKE' && response
                                    .value[i].Branch_Code == BranchCode) {
                                    options += '<option value=' + response.value[i]
                                        .Code + '>' + response.value[i].Name +
                                        '</option>';
                                }
                            }
                            $("#RegisterForm select[name='subBranch']").find('.after')
                                .after(
                                    options);

                        },
                        error: function (response) {
                            console.log('Something went wrong');
                        }
                    });
                } else {
                    $("#RegisterForm select[name='subBranch']").find('.after').nextAll().remove();
                }
            });
        })
    </script>
</body>

</html>